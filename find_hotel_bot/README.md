# Python-Telebot for finding the best hotels

Телебот, который находит наиболее подходящие запросу пользователя отели.

##Последовательность работ

Установить зависимости
> pip install -r requirements.txt

Создать файл `.env` и добавить в него  `BOT_TOKEN` `RAPID_API_KEY`

Запуск бота происходит через `python main.py`

## Возможности бота

В боты представлены основные команды для поиска:

- /lowprice (Поиск отелей с сортировкой по убыванию цены)
- /highprice (Поиск отелей с сортировкой по возрастанию цены)
- /bestdeal (Корректировка поискового предложения)
- /history (История запросов по выбранной дате)

Так же можно использовать следующие команды:

- /help - для ознакомления с возможностями бота
- /start - для начала использования бота


## Принцип работ.

При выборе команд "lowprice", "highprice", "bestdeal", 
начинается работа по сценарю, первый этап - выбор города.
Проводится запрос параметров поиска (даты заезда и выезда, 
количество отелей и фотографий к ним, для "bestdeal" также
минимальная и максимальная цена).

После опроса пользователя о деталях его путешествия, бот делает request запрос на API сайта Hotels.com

Затем программа обрабатывает данные и выведит список возможных вариантов.

В боте ведется история поиска на основе Peewee. 

По команде "history" у пользователя запрашивается дата. 
Затем выводится список команд по выбранной дате,
время их вызова и список отелей, полученных после запроса в API.